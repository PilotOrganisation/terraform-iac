<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IaC Dashboard â€” Terraform Â· GitHub Â· Azure</title>

  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary: #7c3aed;
      --primary-dark: #6d28d9;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --info: #3b82f6;
      --bg-dark: #0f172a;
      --bg-card: #1e293b;
      --bg-hover: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --border: #334155;
      --glass: rgba(15, 23, 42, 0.7);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
      color: var(--text-primary);
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      overflow-x: hidden;
    }

    .app {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* ===== HEADER ===== */
    header {
      background: rgba(30, 41, 59, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      padding: 20px 32px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      max-width: 1600px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 20px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary), #3b82f6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .logo i {
      font-size: 2rem;
    }

    .header-actions {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .btn {
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), #3b82f6);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(124, 58, 237, 0.4);
    }

    .btn-secondary {
      background: var(--bg-card);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: var(--bg-hover);
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: var(--bg-card);
      border-radius: 6px;
      font-size: 0.85rem;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .status-dot.active {
      background: var(--success);
    }

    .status-dot.inactive {
      background: var(--text-muted);
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    /* ===== MAIN CONTENT ===== */
    main {
      flex: 1;
      max-width: 1600px;
      width: 100%;
      margin: 0 auto;
      padding: 32px;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .grid {
      display: grid;
      gap: 24px;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      margin-bottom: 32px;
    }

    .grid-2 {
      grid-template-columns: repeat(2, 1fr);
    }

    .grid-3 {
      grid-template-columns: repeat(3, 1fr);
    }

    @media (max-width: 1024px) {
      .grid-2, .grid-3 {
        grid-template-columns: 1fr;
      }
    }

    /* ===== CARDS ===== */
    .card {
      background: rgba(30, 41, 59, 0.4);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      transition: var(--transition);
    }

    .card:hover {
      background: rgba(30, 41, 59, 0.6);
      border-color: var(--primary);
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(124, 58, 237, 0.15);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .card-title {
      font-size: 1.1rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(124, 58, 237, 0.1);
      border-radius: 8px;
      color: var(--primary);
      font-size: 1.2rem;
    }

    .card-badge {
      padding: 4px 12px;
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .card-badge.warning {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }

    .card-badge.danger {
      background: rgba(239, 68, 68, 0.1);
      color: var(--danger);
    }

    /* ===== METRICS ===== */
    .metric {
      padding: 16px;
      background: var(--bg-card);
      border-radius: 8px;
      margin-bottom: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .metric-label {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .metric-value {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--primary);
      font-family: 'Fira Code', monospace;
    }

    /* ===== RESOURCE LIST ===== */
    .resource-item {
      display: flex;
      align-items: center;
      padding: 14px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-bottom: 10px;
      transition: var(--transition);
    }

    .resource-item:hover {
      background: var(--bg-hover);
      border-color: var(--primary);
    }

    .resource-icon {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(59, 130, 246, 0.1);
      border-radius: 6px;
      color: var(--info);
      margin-right: 12px;
      font-size: 1rem;
    }

    .resource-info {
      flex: 1;
    }

    .resource-name {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .resource-details {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .resource-status {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    /* ===== CODE BLOCK ===== */
    .code-block {
      background: #0f172a;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      overflow-x: auto;
      margin: 16px 0;
    }

    .code-block pre {
      font-family: 'Fira Code', monospace;
      font-size: 0.85rem;
      line-height: 1.6;
      color: #cfe8ff;
    }

    .code-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ===== TABS ===== */
    .tabs {
      display: flex;
      gap: 8px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 20px;
      overflow-x: auto;
    }

    .tab {
      padding: 12px 16px;
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      font-weight: 600;
      border-bottom: 3px solid transparent;
      transition: var(--transition);
      white-space: nowrap;
    }

    .tab:hover {
      color: var(--text-primary);
    }

    .tab.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    /* ===== WORKFLOW STEP ===== */
    .workflow-step {
      display: flex;
      align-items: center;
      padding: 16px;
      background: var(--bg-card);
      border-left: 4px solid var(--primary);
      border-radius: 6px;
      margin-bottom: 12px;
      position: relative;
    }

    .workflow-step.success {
      border-left-color: var(--success);
    }

    .workflow-step.warning {
      border-left-color: var(--warning);
    }

    .workflow-step-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(124, 58, 237, 0.1);
      border-radius: 50%;
      margin-right: 16px;
      font-size: 1.1rem;
    }

    .workflow-step.success .workflow-step-icon {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }

    .workflow-step-info {
      flex: 1;
    }

    .workflow-step-title {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .workflow-step-desc {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .workflow-step-time {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    /* ===== STATS ===== */
    .stat-card {
      text-align: center;
      padding: 20px;
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      font-family: 'Fira Code', monospace;
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-top: 8px;
    }

    /* ===== TIMELINE ===== */
    .timeline {
      position: relative;
      padding-left: 30px;
    }

    .timeline-item {
      margin-bottom: 24px;
      position: relative;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -30px;
      top: 8px;
      width: 16px;
      height: 16px;
      background: var(--primary);
      border: 3px solid var(--bg-dark);
      border-radius: 50%;
    }

    .timeline-item:last-child::after {
      content: '';
      position: absolute;
      left: -23px;
      top: 28px;
      width: 2px;
      height: calc(100% + 24px);
      background: var(--border);
    }

    /* ===== SIDEBAR NAV ===== */
    .nav-container {
      position: fixed;
      left: 0;
      top: 80px;
      height: calc(100vh - 80px);
      width: 240px;
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(10px);
      border-right: 1px solid var(--border);
      padding: 20px;
      overflow-y: auto;
      z-index: 50;
    }

    .nav-menu {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .nav-item {
      padding: 12px 16px;
      background: none;
      border: none;
      color: var(--text-secondary);
      text-align: left;
      cursor: pointer;
      border-radius: 8px;
      transition: var(--transition);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .nav-item:hover {
      background: var(--bg-hover);
      color: var(--text-primary);
    }

    .nav-item.active {
      background: rgba(124, 58, 237, 0.2);
      color: var(--primary);
      border-left: 3px solid var(--primary);
      padding-left: 13px;
    }

    main {
      margin-left: 240px;
    }

    @media (max-width: 768px) {
      .nav-container {
        width: 200px;
      }
      main {
        margin-left: 200px;
      }
      header {
        padding: 16px;
      }
    }

    @media (max-width: 640px) {
      .nav-container {
        display: none;
      }
      main {
        margin-left: 0;
        padding: 16px;
      }
      .grid-2, .grid-3 {
        grid-template-columns: 1fr;
      }
    }

    /* ===== FOOTER ===== */
    footer {
      background: rgba(15, 23, 42, 0.8);
      border-top: 1px solid var(--border);
      padding: 20px 32px;
      text-align: center;
      color: var(--text-muted);
      font-size: 0.85rem;
      margin-top: 40px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
    }

    .footer-links a {
      color: var(--primary);
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-links a:hover {
      color: #3b82f6;
    }

    /* ===== BADGE GROUP ===== */
    .badge-group {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin: 12px 0;
    }

    .badge {
      padding: 6px 12px;
      background: rgba(124, 58, 237, 0.1);
      color: var(--primary);
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .badge.azure {
      background: rgba(0, 90, 158, 0.1);
      color: #0066cc;
    }

    .badge.github {
      background: rgba(255, 255, 255, 0.05);
      color: #e6eef8;
    }

    /* ===== LOADING ===== */
    .loader {
      display: inline-block;
      width: 12px;
      height: 12px;
      border: 2px solid rgba(124, 58, 237, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <i class="fas fa-layer-group"></i>
        <span>IaC Dashboard</span>
      </div>
      <div class="header-actions">
        <div class="status-indicator">
          <div class="status-dot active"></div>
          <span>System Active</span>
        </div>
        <button class="btn btn-secondary" onclick="refreshData()">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div>
    </div>
  </header>

  <nav class="nav-container">
    <div class="nav-menu">
      <button class="nav-item active" data-section="overview">
        <i class="fas fa-home"></i> Overview
      </button>
      <button class="nav-item" data-section="terraform">
        <i class="fas fa-server"></i> Terraform
      </button>
      <button class="nav-item" data-section="workflows">
        <i class="fas fa-sitemap"></i> GitHub Workflows
      </button>
      <button class="nav-item" data-section="azure">
        <i class="fas fa-cloud"></i> Azure Resources
      </button>
      <button class="nav-item" data-section="files">
        <i class="fas fa-file-code"></i> Configuration
      </button>
    </div>
  </nav>

  <main>
    <!-- ===== OVERVIEW SECTION ===== -->
    <section class="section active" id="overview">
      <h1 style="margin-bottom: 32px; font-size: 2rem;">Infrastructure Dashboard</h1>

      <div class="grid grid-3">
        <div class="card stat-card">
          <div class="card-icon" style="width: auto; height: auto; margin: 0 auto 16px; font-size: 2.5rem;">
            <i class="fas fa-cube"></i>
          </div>
          <div class="stat-value">7</div>
          <div class="stat-label">Terraform Resources</div>
        </div>
        <div class="card stat-card">
          <div class="card-icon" style="width: auto; height: auto; margin: 0 auto 16px; font-size: 2.5rem; color: #0066cc;">
            <i class="fab fa-github"></i>
          </div>
          <div class="stat-value">2</div>
          <div class="stat-label">Active Workflows</div>
        </div>
        <div class="card stat-card">
          <div class="card-icon" style="width: auto; height: auto; margin: 0 auto 16px; font-size: 2.5rem; color: #0066cc;">
            <i class="fas fa-cloud"></i>
          </div>
          <div class="stat-value">1</div>
          <div class="stat-label">Resource Groups</div>
        </div>
      </div>

      <div class="grid grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon"><i class="fas fa-laptop"></i></div>
              Infrastructure Summary
            </div>
            <div class="card-badge">Active</div>
          </div>
          <div class="metric">
            <span class="metric-label">Subscription</span>
            <span class="metric-value" style="font-size: 0.9rem;">f805bc8d-1c98-4d3b-85d2-f2adea26cb5b</span>
          </div>
          <div class="metric">
            <span class="metric-label">Region</span>
            <span class="metric-value" style="font-size: 1.2rem;">Central India</span>
          </div>
          <div class="metric">
            <span class="metric-label">Backend State</span>
            <span class="metric-value" style="font-size: 0.9rem;">azurerm</span>
          </div>
          <div class="metric">
            <span class="metric-label">Environment</span>
            <span class="metric-value" style="font-size: 1.2rem;">demo</span>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon"><i class="fas fa-leaf"></i></div>
              Terraform Overview
            </div>
          </div>
          <div class="badge-group">
            <div class="badge">v1.9.8</div>
            <div class="badge">Provider: azurerm v4.57.0</div>
            <div class="badge">State: Remote</div>
            <div class="badge azure">Azure Storage Backend</div>
          </div>
          <div style="margin-top: 20px; padding: 16px; background: var(--bg-card); border-radius: 8px;">
            <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 8px;">Last Updated</div>
            <div style="font-weight: 600; font-family: 'Fira Code', monospace;" id="lastUpdated">Just now</div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">
            <div class="card-icon"><i class="fas fa-chart-line"></i></div>
            Quick Status
          </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
          <div style="padding: 16px; background: var(--bg-card); border-radius: 8px; border-left: 4px solid var(--success);">
            <div style="color: var(--text-muted); font-size: 0.85rem;">Terraform State</div>
            <div style="color: var(--success); font-weight: 700; margin-top: 8px;">âœ“ Synced</div>
          </div>
          <div style="padding: 16px; background: var(--bg-card); border-radius: 8px; border-left: 4px solid var(--primary);">
            <div style="color: var(--text-muted); font-size: 0.85rem;">CI/CD Pipeline</div>
            <div style="color: var(--primary); font-weight: 700; margin-top: 8px;">Configured</div>
          </div>
          <div style="padding: 16px; background: var(--bg-card); border-radius: 8px; border-left: 4px solid #0066cc;">
            <div style="color: var(--text-muted); font-size: 0.85rem;">Azure Resources</div>
            <div style="color: #0066cc; font-weight: 700; margin-top: 8px;">7 Deployed</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== TERRAFORM SECTION ===== -->
    <section class="section" id="terraform">
      <h1 style="margin-bottom: 32px;">Terraform Configuration</h1>

      <div class="grid grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon"><i class="fas fa-cube"></i></div>
              Resources
            </div>
          </div>
          <div id="terraformResources"></div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon"><i class="fas fa-sliders-h"></i></div>
              Variables (Demo Environment)
            </div>
          </div>
          <div id="terraformVariables"></div>
        </div>
      </div>

      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">
            <div class="card-icon"><i class="fas fa-file-code"></i></div>
            main.tf Preview
          </div>
        </div>
        <div class="code-label">Resource: Azure Resource Group</div>
        <div class="code-block">
          <pre>resource "azurerm_resource_group" "rg" {
  name     = "${var.env_prefix}-${var.resource_group_name}"
  location = var.location
  tags     = var.tags
}</pre>
        </div>
        <div class="code-label" style="margin-top: 20px;">Resource: Linux Virtual Machine</div>
        <div class="code-block">
          <pre>resource "azurerm_linux_virtual_machine" "vm" {
  name                = var.vm_name
  location            = azurerm_resource_group.rg.location
  resource_group_name = azurerm_resource_group.rg.name
  size                = var.vm_size
  admin_username      = var.vm_admin_username
  
  # Custom data installs nginx and deploys web app
}</pre>
        </div>
      </div>
    </section>

    <!-- ===== WORKFLOWS SECTION ===== -->
    <section class="section" id="workflows">
      <h1 style="margin-bottom: 32px;">GitHub Actions Workflows</h1>

      <div class="grid grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fab fa-github"></i></div>
              terraform-deploy.yaml
            </div>
            <div class="card-badge">Active</div>
          </div>
          <div style="margin: 16px 0; padding: 12px; background: var(--bg-card); border-radius: 6px; border-left: 4px solid #0066cc;">
            <div style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 8px;">Trigger</div>
            <div style="font-weight: 600;">Manual (workflow_dispatch)</div>
          </div>
          <div style="font-size: 0.9rem; color: var(--text-muted); margin: 16px 0;">
            <strong>Steps:</strong>
          </div>
          <div class="workflow-step success">
            <div class="workflow-step-icon">âœ“</div>
            <div class="workflow-step-info">
              <div class="workflow-step-title">Checkout Repository</div>
              <div class="workflow-step-desc">Pull latest code from main branch</div>
            </div>
          </div>
          <div class="workflow-step success">
            <div class="workflow-step-icon">âœ“</div>
            <div class="workflow-step-info">
              <div class="workflow-step-title">Terraform Init & Validate</div>
              <div class="workflow-step-desc">Initialize backend & validate configuration</div>
            </div>
          </div>
          <div class="workflow-step">
            <div class="workflow-step-icon">â†’</div>
            <div class="workflow-step-info">
              <div class="workflow-step-title">Terraform Plan</div>
              <div class="workflow-step-desc">Generate execution plan</div>
            </div>
          </div>
          <div class="workflow-step warning">
            <div class="workflow-step-icon">!</div>
            <div class="workflow-step-info">
              <div class="workflow-step-title">Security Check (Manual)</div>
              <div class="workflow-step-desc">Manual approval required before apply</div>
            </div>
          </div>
          <div class="workflow-step">
            <div class="workflow-step-icon">â†’</div>
            <div class="workflow-step-info">
              <div class="workflow-step-title">Terraform Apply</div>
              <div class="workflow-step-desc">Deploy changes to Azure</div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fab fa-github"></i></div>
              terraform-destroy.yaml
            </div>
            <div class="card-badge">Active</div>
          </div>
          <div style="margin: 16px 0; padding: 12px; background: var(--bg-card); border-radius: 6px; border-left: 4px solid #0066cc;">
            <div style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 8px;">Trigger</div>
            <div style="font-weight: 600;">Manual (workflow_dispatch)</div>
          </div>
          <div style="font-size: 0.9rem; color: var(--text-muted); margin: 16px 0;">
            <strong>Purpose:</strong> Destroy all Azure infrastructure
          </div>
          <div class="workflow-step warning">
            <div class="workflow-step-icon">!</div>
            <div class="workflow-step-info">
              <div class="workflow-step-title">Terraform Destroy</div>
              <div class="workflow-step-desc">Removes all managed resources from Azure</div>
            </div>
          </div>
          <div style="margin-top: 16px; padding: 12px; background: rgba(239, 68, 68, 0.05); border-left: 3px solid var(--danger); border-radius: 6px;">
            <div style="font-size: 0.85rem; color: var(--text-muted);">âš  This action is irreversible</div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">
            <div class="card-icon"><i class="fas fa-code"></i></div>
            Workflow Environment Variables
          </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 12px;">
          <div style="padding: 12px; background: var(--bg-card); border-radius: 6px; font-family: 'Fira Code', monospace; font-size: 0.85rem;">
            <div style="color: var(--text-muted); margin-bottom: 4px;">TF_VERSION</div>
            <div style="color: var(--primary); font-weight: 600;">1.9.8</div>
          </div>
          <div style="padding: 12px; background: var(--bg-card); border-radius: 6px; font-family: 'Fira Code', monospace; font-size: 0.85rem;">
            <div style="color: var(--text-muted); margin-bottom: 4px;">env_prefix</div>
            <div style="color: var(--primary); font-weight: 600;">demo</div>
          </div>
          <div style="padding: 12px; background: var(--bg-card); border-radius: 6px; font-family: 'Fira Code', monospace; font-size: 0.85rem;">
            <div style="color: var(--text-muted); margin-bottom: 4px;">ARM_USE_OIDC</div>
            <div style="color: var(--primary); font-weight: 600;">true</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== AZURE SECTION ===== -->
    <section class="section" id="azure">
      <h1 style="margin-bottom: 32px;">Azure Infrastructure</h1>

      <div class="grid grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-layer-group"></i></div>
              Resource Group
            </div>
            <div class="card-badge azure">Deployed</div>
          </div>
          <div class="metric">
            <span class="metric-label">Name</span>
            <span class="metric-value" style="font-size: 1rem;">demo-nginx-rg</span>
          </div>
          <div class="metric">
            <span class="metric-label">Location</span>
            <span class="metric-value" style="font-size: 1rem;">Central India</span>
          </div>
          <div class="metric">
            <span class="metric-label">Resources</span>
            <span class="metric-value">7</span>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-server"></i></div>
              Virtual Machine
            </div>
            <div class="card-badge azure">Running</div>
          </div>
          <div class="metric">
            <span class="metric-label">VM Name</span>
            <span class="metric-value" style="font-size: 1rem;">nginx-vm</span>
          </div>
          <div class="metric">
            <span class="metric-label">Size</span>
            <span class="metric-value" style="font-size: 1rem;">Standard_B2ats_v2</span>
          </div>
          <div class="metric">
            <span class="metric-label">OS</span>
            <span class="metric-value" style="font-size: 1rem;">Ubuntu 22.04 LTS</span>
          </div>
        </div>
      </div>

      <div class="grid grid-3">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-network-wired"></i></div>
              Virtual Network
            </div>
          </div>
          <div class="metric">
            <span class="metric-label">VNet Name</span>
            <span class="metric-value" style="font-size: 0.95rem;">demo-nginx-vnet</span>
          </div>
          <div class="metric">
            <span class="metric-label">Address Space</span>
            <span class="metric-value" style="font-size: 0.95rem;">10.0.0.0/16</span>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-sitemap"></i></div>
              Subnet
            </div>
          </div>
          <div class="metric">
            <span class="metric-label">Subnet Name</span>
            <span class="metric-value" style="font-size: 0.95rem;">nginx-subnet</span>
          </div>
          <div class="metric">
            <span class="metric-label">Address Range</span>
            <span class="metric-value" style="font-size: 0.95rem;">10.0.1.0/24</span>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-globe"></i></div>
              Public IP
            </div>
          </div>
          <div class="metric">
            <span class="metric-label">IP Name</span>
            <span class="metric-value" style="font-size: 0.95rem;">nginx-pip</span>
          </div>
          <div class="metric">
            <span class="metric-label">Allocation</span>
            <span class="metric-value" style="font-size: 0.95rem;">Static</span>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">
            <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-shield-alt"></i></div>
            Network Security Group
          </div>
        </div>
        <div style="margin-bottom: 16px;">
          <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 12px;">Security Rules</div>
          <div class="resource-item">
            <div class="resource-icon"><i class="fas fa-arrow-down"></i></div>
            <div class="resource-info">
              <div class="resource-name">Allow-HTTP</div>
              <div class="resource-details">Priority: 100 | Direction: Inbound | Port: 80</div>
            </div>
            <div class="resource-status">Active</div>
          </div>
          <div class="resource-item">
            <div class="resource-icon"><i class="fas fa-arrow-down"></i></div>
            <div class="resource-info">
              <div class="resource-name">Allow-SSH</div>
              <div class="resource-details">Priority: 110 | Direction: Inbound | Port: 22</div>
            </div>
            <div class="resource-status">Active</div>
          </div>
        </div>
      </div>

      <div class="grid grid-2" style="margin-top: 24px;">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-ethernet"></i></div>
              Network Interface
            </div>
          </div>
          <div class="metric">
            <span class="metric-label">NIC Name</span>
            <span class="metric-value" style="font-size: 1rem;">nginx-nic</span>
          </div>
          <div class="metric">
            <span class="metric-label">Private IP</span>
            <span class="metric-value" style="font-size: 0.95rem;">Dynamic</span>
          </div>
          <div class="metric">
            <span class="metric-label">Associated With</span>
            <span class="metric-value" style="font-size: 0.95rem;">nginx-vm</span>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fas fa-tags"></i></div>
              Resource Tags
            </div>
          </div>
          <div class="badge-group">
            <div class="badge azure">environment: demo</div>
            <div class="badge azure">deployed_by: terraform</div>
            <div class="badge azure">owner: github</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== FILES SECTION ===== -->
    <section class="section" id="files">
      <h1 style="margin-bottom: 32px;">Configuration Files</h1>

      <div class="grid grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon"><i class="fas fa-file"></i></div>
              Terraform Files
            </div>
          </div>
          <div id="terraformFiles"></div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <div class="card-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fab fa-github"></i></div>
              GitHub Workflow Files
            </div>
          </div>
          <div id="workflowFiles"></div>
        </div>
      </div>

      <div class="card" style="margin-top: 24px;">
        <div class="card-header">
          <div class="card-title">
            <div class="card-icon"><i class="fas fa-cloud-upload-alt"></i></div>
            Backend Configuration
          </div>
        </div>
        <div class="code-label">provider.tf - Azure Remote State</div>
        <div class="code-block">
          <pre>terraform {
  backend "azurerm" {
    resource_group_name  = "terraform-iac-poc-tfstate-rg"
    storage_account_name = "terraformiacpoctfstatesa"
    container_name       = "tfstatecontainer"
    key                  = "terraform.tfstate"
  }
}</pre>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div>Infrastructure as Code Dashboard â€¢ Powered by Terraform, GitHub Actions, and Azure</div>
    <div class="footer-links">
      <a href="#" onclick="scrollToSection('overview'); return false;">Overview</a>
      <a href="#" onclick="scrollToSection('terraform'); return false;">Terraform</a>
      <a href="#" onclick="scrollToSection('workflows'); return false;">Workflows</a>
      <a href="#" onclick="scrollToSection('azure'); return false;">Azure</a>
    </div>
  </footer>

  <script>
    // Data model
    const data = {
      terraform: {
        resources: [
          { name: "azurerm_resource_group", count: 1, icon: "ðŸ“¦" },
          { name: "azurerm_virtual_network", count: 1, icon: "ðŸŒ" },
          { name: "azurerm_subnet", count: 1, icon: "ðŸ“¡" },
          { name: "azurerm_network_security_group", count: 1, icon: "ðŸ›¡ï¸" },
          { name: "azurerm_public_ip", count: 1, icon: "ðŸŒ" },
          { name: "azurerm_network_interface", count: 1, icon: "ðŸ”Œ" },
          { name: "azurerm_linux_virtual_machine", count: 1, icon: "ðŸ’»" }
        ],
        variables: [
          { name: "env_prefix", value: "demo", type: "string" },
          { name: "location", value: "Central India", type: "string" },
          { name: "vm_size", value: "Standard_B2ats_v2", type: "string" },
          { name: "vm_admin_username", value: "azureuser", type: "string" },
          { name: "vnet_cidr", value: "10.0.0.0/16", type: "string" }
        ]
      },
      files: {
        terraform: [
          { name: "provider.tf", size: "421 B", role: "Backend & provider config" },
          { name: "main.tf", size: "2.8 KB", role: "All infrastructure resources" },
          { name: "variables.tf", size: "1.2 KB", role: "Input variables" },
          { name: "outputs.tf", size: "245 B", role: "Output values" }
        ],
        workflows: [
          { name: "terraform-deploy.yaml", size: "1.1 KB", role: "Plan & Apply workflow" },
          { name: "terraform-destroy.yaml", size: "856 B", role: "Destroy infrastructure" }
        ]
      }
    };

    // Navigation
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function() {
        const section = this.dataset.section;
        showSection(section);
      });
    });

    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));

      // Show selected section
      document.getElementById(sectionId).classList.add('active');
      document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');

      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function scrollToSection(sectionId) {
      showSection(sectionId);
    }

    // Populate resources
    const resourcesContainer = document.getElementById('terraformResources');
    data.terraform.resources.forEach(resource => {
      const html = `
        <div class="resource-item">
          <div class="resource-icon" style="font-size: 1.2rem; background: transparent; color: var(--primary);">${resource.icon}</div>
          <div class="resource-info">
            <div class="resource-name" style="font-family: 'Fira Code', monospace; font-size: 0.9rem;">${resource.name}</div>
            <div class="resource-details">Count: ${resource.count}</div>
          </div>
          <div class="resource-status">Managed</div>
        </div>
      `;
      resourcesContainer.innerHTML += html;
    });

    // Populate variables
    const variablesContainer = document.getElementById('terraformVariables');
    data.terraform.variables.forEach(variable => {
      const html = `
        <div style="padding: 12px; background: var(--bg-card); border-radius: 6px; margin-bottom: 10px; font-family: 'Fira Code', monospace; font-size: 0.85rem;">
          <div style="color: var(--text-muted); margin-bottom: 4px;">${variable.name}</div>
          <div style="color: var(--primary); font-weight: 600;">${variable.value}</div>
          <div style="color: var(--text-muted); font-size: 0.75rem; margin-top: 4px;">Type: ${variable.type}</div>
        </div>
      `;
      variablesContainer.innerHTML += html;
    });

    // Populate files
    const terraformFilesContainer = document.getElementById('terraformFiles');
    data.files.terraform.forEach(file => {
      const html = `
        <div class="resource-item">
          <div class="resource-icon"><i class="fas fa-file-code"></i></div>
          <div class="resource-info">
            <div class="resource-name">${file.name}</div>
            <div class="resource-details">${file.role} â€¢ ${file.size}</div>
          </div>
        </div>
      `;
      terraformFilesContainer.innerHTML += html;
    });

    const workflowFilesContainer = document.getElementById('workflowFiles');
    data.files.workflows.forEach(file => {
      const html = `
        <div class="resource-item">
          <div class="resource-icon" style="background: rgba(0, 102, 204, 0.1); color: #0066cc;"><i class="fab fa-github"></i></div>
          <div class="resource-info">
            <div class="resource-name">${file.name}</div>
            <div class="resource-details">${file.role} â€¢ ${file.size}</div>
          </div>
        </div>
      `;
      workflowFilesContainer.innerHTML += html;
    });

    // Refresh functionality
    function refreshData() {
      const indicator = document.querySelector('.status-dot');
      indicator.style.animation = 'none';
      setTimeout(() => {
        indicator.style.animation = '';
      }, 10);

      // Update timestamp
      const now = new Date();
      document.getElementById('lastUpdated').textContent = now.toLocaleTimeString();

      console.log('Dashboard refreshed at', now.toLocaleString());
    }

    // Auto-refresh every 30 seconds
    setInterval(() => {
      document.getElementById('lastUpdated').textContent = new Date().toLocaleTimeString();
    }, 30000);

    // Initialize
    document.getElementById('lastUpdated').textContent = new Date().toLocaleTimeString();
  </script>
</body>
</html>